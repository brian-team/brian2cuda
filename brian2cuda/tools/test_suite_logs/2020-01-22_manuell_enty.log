python run_test_suite.py --notify-slack
WARNING: clusterbot not installed. Can't notify slack.
2020-01-22 12:44:30  Turning off  compiler optimizations for fast compilation
                     Suppressing compiler warnings
                     Running with the following prefs combinations:

                     1 run with default preferences


Running tests in /home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2, /home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda  (including long tests)
Testing standalone

Testing standalone device "cuda_standalone"
Running standalone-compatible standard tests (single run statement)
WARNING    Integrating equations with GSL is still considered experimental [brian2.stateupdaters.GSL]
SSSSSSSSS.SSSSSSS....FN.........F.............................F....N......................F.F....E.....E.......EE.......E............EEEE.........N.EE.........NNNNN...N.NEENNNNNINFO: setting cudaDevice stuff took 1.233050 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006767s
INFO generating 3000 rand every 3 clock cycles for neurongroup_stateupdater_codeobject
INFO kernel_neurongroup_stateupdater_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        504 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO: main_lines took 0.046145 seconds
INFO: main function took 1.299197 seconds
.INFO: setting cudaDevice stuff took 1.925487 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006944s
INFO: synapses creation took 0.038287s
INFO connectivity matrix has size 15375, number of (pre neuron ID, post neuron block) pairs is 3
INFO: synapse statistics and memory usage for synapses_pre:
        number of synapses: 15375
        number of bundles: 6
        number of pre/post blocks: 3
        number of synapses over all pre/post blocks:
                mean: 5125.0    std: 0.0
        number of unique delays over all pre/post blocks:
                mean: 2.0       std: 0.0
        bundle size over all bundles:
                mean: 2562.5    std: 0.5

        memory usage: TOTAL: 0.1 MB (~4.0 byte per synapse)
                99.9%   0.059 MB        synapse IDs [15375]
                0.0%    0.000 MB        unique delays [6]
                0.0%    0.000 MB        number of synapses per bundle [6]
                0.0%    0.000 MB        synapses bundle offset [6]
                0.0%    0.000 MB        global bundle ID start [4]
INFO _run_synapses_pre_initialise_queue_kernel
        1 blocks
        2 threads
        62 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        936 bytes user-allocated constant memory
INFO: synapses_pre initialisation took 0.033s
INFO kernel_neurongroup_thresholder_codeobject
        16 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        936 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_spikegeneratorgroup_codeobject
        1 blocks
        1 threads
        19 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        936 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO kernel_spikemonitor_codeobject
        1 blocks
        1 threads
        28 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        936 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO _run_synapses_pre_push_spikes_push_kernel
        3 blocks per spiking neuron
        1024 threads
        32 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        936 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_synapses_pre_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        936 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_resetter_codeobject
        16 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        936 bytes user-allocated constant memory
        1.000 theoretical occupancy
Number of spikes: 15375
Number of synapses: 15375
INFO: main_lines took 0.236186 seconds
INFO: main function took 2.169911 seconds
FINFO: setting cudaDevice stuff took 2.413725 seconds
objects cu num par blocks 1
INFO: _init_arrays() took 0.008662s
INFO: synapses creation took 0.013636s
INFO kernel_synapses_group_variable_set_conditional_codeobject
        4 blocks
        1024 threads
        4 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO kernel_synapses_group_variable_set_conditional_codeobject_1
        4 blocks
        1024 threads
        6 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO kernel_synapses_pre_group_variable_set_conditional_codeobject
        4 blocks
        1024 threads
        8 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO kernel_synapses_pre_group_variable_set_conditional_codeobject_1
        4 blocks
        1024 threads
        8 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO kernel_synapses_pre_group_variable_set_conditional_codeobject_2
        4 blocks
        1024 threads
        8 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO connectivity matrix has size 4096, number of (pre neuron ID, post neuron block) pairs is 2
INFO: synapse statistics and memory usage for synapses_pre:
        number of synapses: 4096
        number of bundles: 4095
        number of pre/post blocks: 2
        number of synapses over all pre/post blocks:
                mean: 2048.0    std: 0.0
        number of unique delays over all pre/post blocks:
                mean: 2047.5    std: 0.7
        bundle size over all bundles:
                mean: 1.0       std: 0.0

        memory usage: TOTAL: 0.1 MB (~16.0 byte per synapse)
                25.0%   0.016 MB        synapse IDs [4096]
                25.0%   0.016 MB        unique delays [4095]
                25.0%   0.016 MB        number of synapses per bundle [4095]
                25.0%   0.016 MB        synapses bundle offset [4095]
                0.0%    0.000 MB        global bundle ID start [3]
INFO _run_synapses_pre_initialise_queue_kernel
        1 blocks
        1024 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1296 bytes user-allocated constant memory
INFO: synapses_pre initialisation took 0.035s
INFO kernel_neurongroup_1_thresholder_codeobject
        2 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_spikegeneratorgroup_1_codeobject
        1 blocks
        1 threads
        19 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO kernel_spikemonitor_codeobject
        1 blocks
        1 threads
        30 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1296 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO _run_synapses_pre_push_spikes_push_kernel
        1 blocks per spiking neuron
        1024 threads
        32 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1296 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_synapses_pre_codeobject_1
        1 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1296 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_1_resetter_codeobject
        2 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1296 bytes user-allocated constant memory
        1.000 theoretical occupancy
Number of spikes: 2048
Number of synapses: 4096
INFO: main_lines took 3.575359 seconds
INFO: main function took 5.999133 seconds
.EINFO: setting cudaDevice stuff took 2.223924 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.00688s
INFO: synapses_1 creation took 0.036858s
INFO: synapses_2 creation took 0.036983s
INFO connectivity matrix has size 15360, number of (pre neuron ID, post neuron block) pairs is 46080
INFO: synapse statistics and memory usage for synapses_1_pre:
        number of synapses: 15360
        number of pre/post blocks: 46080
        number of synapses over all pre/post blocks:
                mean: 0.3       std: 0.5

        memory usage: TOTAL: 0.6 MB (~40.0 byte per synapse)
                60.0%   0.352 MB        pointers to synapse IDs [46080]
                30.0%   0.176 MB        number of synapses per pre/post block [46080]
                10.0%   0.059 MB        synapse IDs [15360]
INFO _run_synapses_1_pre_initialise_queue_kernel
        1 blocks
        1 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1152 bytes user-allocated constant memory
INFO: synapses_1_pre initialisation took 0.100s
INFO connectivity matrix has size 15360, number of (pre neuron ID, post neuron block) pairs is 3
INFO: synapse statistics and memory usage for synapses_2_post:
        number of synapses: 15360
        number of bundles: 0
        number of pre/post blocks: 3
        number of synapses over all pre/post blocks:
                mean: 5120.0    std: 0.0
        number of unique delays over all pre/post blocks:
                mean: 0.0       std: nan
        bundle size over all bundles:
                mean: 0.0       std: nan

        memory usage: TOTAL: 0.1 MB (~4.0 byte per synapse)
                99.9%   0.059 MB        synapse IDs [15360]
                0.0%    0.000 MB        pointers to synapse IDs [3]
                0.0%    0.000 MB        number of synapses per pre/post block [3]
INFO _run_synapses_2_post_initialise_queue_kernel
        1 blocks
        1 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1152 bytes user-allocated constant memory
INFO: synapses_2_post initialisation took 0.018s
INFO kernel_neurongroup_1_thresholder_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_2_thresholder_codeobject
        15 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_spikemonitor_codeobject
        1 blocks
        1 threads
        32 registers per block
        0 bytes statically-allocated shared memory per block
        24 bytes local memory per thread
        1152 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO kernel_synapses_1_pre_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_synapses_2_post_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
Number of spikes: 2
Number of synapses: 15360
Number of synapses: 15360
INFO: main_lines took 0.281393 seconds
INFO: main function took 2.513310 seconds
.
======================================================================
ERROR: brian2.tests.test_subgroup.test_synapse_creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_subgroup.py", line 161, in test_synapse_creation
    S.connect(i=2, j=2)  # Should correspond to (2, 12)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: brian2.tests.test_subgroup.test_subgroup_summed_variable
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_subgroup.py", line 487, in test_subgroup_summed_variable
    run(2 * defaultclock.dt)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1002, in network_run
    net.before_run(namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 843, in before_run
    raise brian_object_exception("An error occurred when preparing an object.", obj, ex)
BrianObjectException: Original error and traceback:
Traceback (most recent call last):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 841, in before_run
    obj.before_run(run_namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/groups/group.py", line 1128, in before_run
    codeobj_class=self.codeobj_class
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 310, in create_runner_codeobj
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 366, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 565, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/device.py", line 329, in code_object
    **template_kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 205, in __call__
    return MultiTemplate(module)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 221, in __init__
    s = autoindent_postfilter(str(f()))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 575, in __call__
    return self._invoke(arguments, autoescape)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 579, in _invoke
    rv = self._func(*arguments)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 54, in macro
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 290, in block_define_N
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 262, in call
    return __obj(*args, **kwargs)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 35, in constant_or_scalar
    if variable.array:
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 641, in __getattr__
    return self._fail_with_undefined_error()
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 635, in _fail_with_undefined_error
    raise self._undefined_exception(hint)
UndefinedError: 'dict object' has no attribute 'N'

Error encountered with object named "synapses_1_summed_variable_Iin_post".
Object was created here (most recent call only, full details in debug log):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)

An error occurred when preparing an object. UndefinedError: 'dict object' has no attribute 'N'
(See above for original error message and traceback.)

======================================================================
ERROR: Test the count of outgoing/incoming synapses per neuron.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 115, in test_incoming_outgoing
    j=[0, 1, 2, 1, 2, 3])
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: Test connecting synapses with explictly given arrays
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 142, in test_connection_arrays
    S1.connect(i=np.arange(len(G2)), j=np.arange(len(G2)))
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: Test random connections.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 419, in test_connection_random_with_indices
    S1.connect(i=0, j=0, p=0.)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: brian2.tests.test_synapses.test_summed_variable
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 1155, in test_summed_variable
    net.run(1*ms)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1002, in network_run
    net.before_run(namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 843, in before_run
    raise brian_object_exception("An error occurred when preparing an object.", obj, ex)
BrianObjectException: Original error and traceback:
Traceback (most recent call last):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 841, in before_run
    obj.before_run(run_namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/groups/group.py", line 1128, in before_run
    codeobj_class=self.codeobj_class
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 310, in create_runner_codeobj
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 366, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 565, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/device.py", line 329, in code_object
    **template_kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 205, in __call__
    return MultiTemplate(module)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 221, in __init__
    s = autoindent_postfilter(str(f()))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 575, in __call__
    return self._invoke(arguments, autoescape)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 579, in _invoke
    rv = self._func(*arguments)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 54, in macro
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 290, in block_define_N
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 262, in call
    return __obj(*args, **kwargs)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 35, in constant_or_scalar
    if variable.array:
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 641, in __getattr__
    return self._fail_with_undefined_error()
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 635, in _fail_with_undefined_error
    raise self._undefined_exception(hint)
UndefinedError: 'dict object' has no attribute 'N'

Error encountered with object named "synapses_summed_variable_v_post".
Object was created here (most recent call only, full details in debug log):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)

An error occurred when preparing an object. UndefinedError: 'dict object' has no attribute 'N'
(See above for original error message and traceback.)

======================================================================
ERROR: brian2.tests.test_synapses.test_summed_variable_pre_and_post
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 1181, in test_summed_variable_pre_and_post
    synapses.connect(i=[0, 1, 2, 3, 3, 3], j=[0, 0, 0, 1, 2, 3])
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: brian2.tests.test_synapses.test_summed_variable_differing_group_size
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 1200, in test_summed_variable_differing_group_size
    syn1.connect(i=0, j=[0, 1, 2, 3, 4])
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
ERROR: brian2.tests.test_synapses.test_summed_variables_subgroups
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 1274, in test_summed_variables_subgroups
    run(defaultclock.dt)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1002, in network_run
    net.before_run(namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 843, in before_run
    raise brian_object_exception("An error occurred when preparing an object.", obj, ex)
BrianObjectException: Original error and traceback:
Traceback (most recent call last):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 841, in before_run
    obj.before_run(run_namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/groups/group.py", line 1128, in before_run
    codeobj_class=self.codeobj_class
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 310, in create_runner_codeobj
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 366, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 565, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/device.py", line 329, in code_object
    **template_kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 205, in __call__
    return MultiTemplate(module)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 221, in __init__
    s = autoindent_postfilter(str(f()))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 575, in __call__
    return self._invoke(arguments, autoescape)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 579, in _invoke
    rv = self._func(*arguments)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 54, in macro
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 290, in block_define_N
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 262, in call
    return __obj(*args, **kwargs)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 35, in constant_or_scalar
    if variable.array:
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 641, in __getattr__
    return self._fail_with_undefined_error()
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 635, in _fail_with_undefined_error
    raise self._undefined_exception(hint)
UndefinedError: 'dict object' has no attribute 'N'

Error encountered with object named "synapses_2_summed_variable_v_post".
Object was created here (most recent call only, full details in debug log):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)

An error occurred when preparing an object. UndefinedError: 'dict object' has no attribute 'N'
(See above for original error message and traceback.)

======================================================================
ERROR: brian2.tests.test_synapses.test_synapses_to_synapses_different_sizes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 1963, in test_synapses_to_synapses_different_sizes
    run(0*ms)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1196, in network_run
    self.build(direct_call=False, **self.build_options)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 979, in build
    self.run(directory, with_output, run_args)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 1000, in run
    "%s)" % os.path.abspath(directory))
RuntimeError: Project run failed (project directory: /tmp/tmpZYro_x)
-------------------- >> begin captured stdout << ---------------------
('DEBUG OWNER SYNAPSES name:', 'synapses_1_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_1_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses_1')
('DEBUG OWNER SYNAPSES name:', 'synapses_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_group_variable_set_conditional_codeobject', ' template:', 'group_variable_set_conditional')
INFO: setting cudaDevice stuff took 1.556851 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006155s
INFO kernel_neurongroup_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        864 bytes user-allocated constant memory
INFO kernel_neurongroup_2_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        864 bytes user-allocated constant memory
INFO: synapses creation took 0.000533s


--------------------- >> end captured stdout << ----------------------

======================================================================
ERROR: brian2.tests.test_synapses.test_synapses_to_synapses_summed_variable
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_synapses.py", line 2053, in test_synapses_to_synapses_summed_variable
    run(defaultclock.dt)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1002, in network_run
    net.before_run(namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 843, in before_run
    raise brian_object_exception("An error occurred when preparing an object.", obj, ex)
BrianObjectException: Original error and traceback:
Traceback (most recent call last):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 841, in before_run
    obj.before_run(run_namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/groups/group.py", line 1128, in before_run
    codeobj_class=self.codeobj_class
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 310, in create_runner_codeobj
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 366, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 565, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/device.py", line 329, in code_object
    **template_kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 205, in __call__
    return MultiTemplate(module)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 221, in __init__
    s = autoindent_postfilter(str(f()))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 575, in __call__
    return self._invoke(arguments, autoescape)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 579, in _invoke
    rv = self._func(*arguments)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 54, in macro
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 290, in block_define_N
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 262, in call
    return __obj(*args, **kwargs)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 35, in constant_or_scalar
    if variable.array:
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 641, in __getattr__
    return self._fail_with_undefined_error()
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 635, in _fail_with_undefined_error
    raise self._undefined_exception(hint)
UndefinedError: 'dict object' has no attribute 'N'

Error encountered with object named "synapses_1_summed_variable_w_post".
Object was created here (most recent call only, full details in debug log):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)

An error occurred when preparing an object. UndefinedError: 'dict object' has no attribute 'N'
(See above for original error message and traceback.)

======================================================================
ERROR: brian2cuda.tests.test_not_implemented_brian2_test_suite_fails.test_synapses_to_synapses_different_sizes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_not_implemented_brian2_test_suite_fails.py", line 157, in test_synapses_to_synapses_different_sizes
    run(0*ms)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1196, in network_run
    self.build(direct_call=False, **self.build_options)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 979, in build
    self.run(directory, with_output, run_args)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 1000, in run
    "%s)" % os.path.abspath(directory))
RuntimeError: Project run failed (project directory: /tmp/tmpirSXzh)
-------------------- >> begin captured stdout << ---------------------
('DEBUG OWNER SYNAPSES name:', 'synapses_2_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_2_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses_2')
('DEBUG OWNER SYNAPSES name:', 'synapses_3_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_3_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses_3')
('DEBUG OWNER SYNAPSES name:', 'synapses_2_group_variable_set_conditional_codeobject', ' template:', 'group_variable_set_conditional')
INFO: setting cudaDevice stuff took 1.599079 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006151s
INFO kernel_neurongroup_1_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        864 bytes user-allocated constant memory
INFO kernel_neurongroup_3_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        864 bytes user-allocated constant memory
INFO: synapses_2 creation took 0.000532s


--------------------- >> end captured stdout << ----------------------

======================================================================
ERROR: brian2cuda.tests.test_not_implemented_brian2_test_suite_fails.test_synapses_to_synapses_summed_variable
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_not_implemented_brian2_test_suite_fails.py", line 175, in test_synapses_to_synapses_summed_variable
    run(defaultclock.dt)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/units/fundamentalunits.py", line 2375, in new_f
    result = f(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 371, in run
    namespace=namespace, profile=profile, level=2+level)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/magic.py", line 231, in run
    namespace=namespace, profile=profile, level=level+1)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 274, in device_override_decorated_function
    return getattr(curdev, name)(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 1002, in network_run
    net.before_run(namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 843, in before_run
    raise brian_object_exception("An error occurred when preparing an object.", obj, ex)
BrianObjectException: Original error and traceback:
Traceback (most recent call last):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/network.py", line 841, in before_run
    obj.before_run(run_namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/groups/group.py", line 1128, in before_run
    codeobj_class=self.codeobj_class
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 310, in create_runner_codeobj
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 366, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 565, in code_object
    override_conditional_write=override_conditional_write,
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/device.py", line 329, in code_object
    **template_kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 205, in __call__
    return MultiTemplate(module)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 221, in __init__
    s = autoindent_postfilter(str(f()))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 575, in __call__
    return self._invoke(arguments, autoescape)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 579, in _invoke
    rv = self._func(*arguments)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 54, in macro
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/common_group.cu", line 290, in block_define_N
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 262, in call
    return __obj(*args, **kwargs)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 35, in constant_or_scalar
    if variable.array:
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 641, in __getattr__
    return self._fail_with_undefined_error()
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/runtime.py", line 635, in _fail_with_undefined_error
    raise self._undefined_exception(hint)
UndefinedError: 'dict object' has no attribute 'N'

Error encountered with object named "synapses_1_summed_variable_w_post".
Object was created here (most recent call only, full details in debug log):
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_not_implemented_brian2_test_suite_fails.py", line 172, in test_synapses_to_synapses_summed_variable
    x : integer''')

An error occurred when preparing an object. UndefinedError: 'dict object' has no attribute 'N'
(See above for original error message and traceback.)

======================================================================
ERROR: brian2cuda.tests.test_synaptic_propagations.test_circular_eventspaces
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_synaptic_propagations.py", line 169, in test_circular_eventspaces
    S0.connect(i=0, j=0)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/core/base.py", line 276, in device_override_decorated_function
    return func(*args, **kwds)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1373, in connect
    self._add_synapses_from_arrays(i, j, n, p, namespace=namespace)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/synapses/synapses.py", line 1554, in _add_synapses_from_arrays
    run_namespace={})
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/codeobject.py", line 214, in create_runner_codeobj
    template = getattr(codeobj_class.templater, template_name)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 121, in __getattr__
    return self.templates.get_template(item)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/codegen/templates.py", line 67, in get_template
    template = CodeObjectTemplate(self.env.get_template(name+self.extension),
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 405, in load
    return loader.load(environment, name, globals)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/loaders.py", line 125, in load
    code = environment.compile(source, name, filename)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 591, in compile
    self.handle_exception(exc_info, source_hint=source_hint)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/templates/synapses_create_array.cu", line 21, in template
    {% endblock occupancy %}
TemplateSyntaxError: expected token 'end of statement block', got 'occupancy'

======================================================================
FAIL: brian2.tests.test_functions.test_timestep_function_during_run
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_functions.py", line 167, in test_timestep_function_during_run
    assert_equal(mon.ts[1], [5, 6, 7, 8, 9])
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 348, in assert_equal
    return assert_array_equal(actual, desired, err_msg, verbose)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 896, in assert_array_equal
    verbose=verbose, header='Arrays are not equal')
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 819, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Arrays are not equal

Mismatch: 80%
Max absolute difference: 4
Max relative difference: 0.44444444
 x: array([5, 5, 5, 5, 5], dtype=int32)
 y: array([5, 6, 7, 8, 9])

======================================================================
FAIL: brian2.tests.test_monitor.test_state_monitor_indexing
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_monitor.py", line 381, in test_state_monitor_indexing
    assert_allclose(mon.t[1:], Quantity([defaultclock.dt]))
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 30, in assert_allclose
    numpy_allclose(np.asarray(actual), np.asarray(desired), rtol=rtol, atol=atol, **kwds)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1493, in assert_allclose
    verbose=verbose, header=header, equal_nan=equal_nan)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 752, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Not equal to tolerance rtol=9.99201e-08, atol=0

(shapes (0,), (1,) mismatch)
 x: array([], dtype=float64)
 y: array([0.0001])

======================================================================
FAIL: brian2.tests.test_neurongroup.test_semantics_floor_division
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_neurongroup.py", line 1563, in test_semantics_floor_division
    assert len(l) == 0
AssertionError

======================================================================
FAIL: Basic test for `SpikeGeneratorGroup`.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 101, in test_spikegenerator_period
    assert_allclose(generator_spikes, recorded_spikes)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 30, in assert_allclose
    numpy_allclose(np.asarray(actual), np.asarray(desired), rtol=rtol, atol=atol, **kwds)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1493, in assert_allclose
    verbose=verbose, header=header, equal_nan=equal_nan)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 752, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Not equal to tolerance rtol=9.99201e-08, atol=0

(shapes (6, 2), (3, 2) mismatch)
 x: array([[1.   , 0.002],
       [1.   , 0.003],
       [1.   , 0.004],...
 y: array([[1.   , 0.002],
       [1.   , 0.003],
       [1.   , 0.004]])

======================================================================
FAIL: brian2.tests.test_spikegenerator.test_spikegenerator_rounding_period
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 279, in test_spikegenerator_rounding_period
    assert_equal(spikes.count[0], N*repeats)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 415, in assert_equal
    raise AssertionError(msg)
AssertionError:
Items are not equal:
 ACTUAL: 100
 DESIRED: 1000000
-------------------- >> begin captured stdout << ---------------------
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'synapses_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject', ' template:', 'synapses')

--------------------- >> end captured stdout << ----------------------

======================================================================
FAIL: brian2cuda.tests.test_synaptic_propagations.test_CudaSpikeQueue_push_outer_loop
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_synaptic_propagations.py", line 47, in test_CudaSpikeQueue_push_outer_loop
    assert_allclose(S.delay[even_indices], 0)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 26, in assert_allclose
    assert have_same_dimensions(actual, desired)
AssertionError:
-------------------- >> begin captured stdout << ---------------------
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'synapses_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject', ' template:', 'synapses')

--------------------- >> end captured stdout << ----------------------

----------------------------------------------------------------------
Ran 182 tests in 3331.770s

FAILED (NOT_IMPLEMENTED=15, SKIP=16, errors=14, failures=6)
Running standalone-compatible standard tests (multiple run statements)
WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
..WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.NWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
FWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
FWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 2.106823 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006597s
INFO: synapses creation took 0.000134s
INFO connectivity matrix has size 1, number of (pre neuron ID, post neuron block) pairs is 3
INFO: synapse statistics and memory usage for synapses_pre:
        number of synapses: 1
        number of bundles: 0
        number of pre/post blocks: 3
        number of synapses over all pre/post blocks:
                mean: 0.3       std: 0.6
        number of unique delays over all pre/post blocks:
                mean: 0.0       std: nan
        bundle size over all bundles:
                mean: 0.0       std: nan

        memory usage: TOTAL: 0.0 MB (~40.0 byte per synapse)
                60.0%   0.000 MB        pointers to synapse IDs [3]
                30.0%   0.000 MB        number of synapses per pre/post block [3]
                10.0%   0.000 MB        synapse IDs [1]
INFO _run_synapses_pre_initialise_queue_kernel
        1 blocks
        2 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1008 bytes user-allocated constant memory
INFO: synapses_pre initialisation took 0.000s
INFO kernel_neurongroup_thresholder_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1008 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_synapses_pre_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1008 bytes user-allocated constant memory
        1.000 theoretical occupancy
ERROR: cudaMemcpy(thrust::raw_pointer_cast(&dev_dynamic_array_synapses_delay[0]), &_dynamic_array_synapses_delay[0], sizeof(_dynamic_array_synapses_delay[0])*_dynamic_array_synapses_delay.size(), cudaMemcpyHostToDevice) failed at main.cu:190 : invalid argument
terminate called after throwing an instance of 'thrust::system::system_error'
  what():  CUDA free failed: cudaErrorCudartUnloading: driver shutting down
EWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 2.192234 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006551s
INFO: synapses creation took 0.000123s
INFO kernel_synapses_pre_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1152 bytes user-allocated constant memory
INFO connectivity matrix has size 2, number of (pre neuron ID, post neuron block) pairs is 3
INFO: synapse statistics and memory usage for synapses_pre:
        number of synapses: 2
        number of bundles: 2
        number of pre/post blocks: 3
        number of synapses over all pre/post blocks:
                mean: 0.7       std: 0.6
        number of unique delays over all pre/post blocks:
                mean: 0.7       std: 0.6
        bundle size over all bundles:
                mean: 1.0       std: 0.0

        memory usage: TOTAL: 0.0 MB (~24.0 byte per synapse)
                33.3%   0.000 MB        global bundle ID start [4]
                16.7%   0.000 MB        synapse IDs [2]
                16.7%   0.000 MB        unique delays [2]
                16.7%   0.000 MB        number of synapses per bundle [2]
                16.7%   0.000 MB        synapses bundle offset [2]
INFO _run_synapses_pre_initialise_queue_kernel
        1 blocks
        2 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        1152 bytes user-allocated constant memory
INFO: synapses_pre initialisation took 0.000s
INFO kernel_neurongroup_2_thresholder_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO _run_synapses_pre_push_spikes_push_kernel
        3 blocks per spiking neuron
        1 threads
        32 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1152 bytes user-allocated constant memory
        0.016 theoretical occupancy
INFO kernel_synapses_pre_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        1152 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_synapses_pre_group_variable_set_conditional_codeobject_1
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1152 bytes user-allocated constant memory
ERROR: CUDA_CHECK_ERROR() failed after "kernel_synapses_pre_group_variable_set_conditional_codeobject_1" at code_objects/synapses_pre_group_variable_set_conditional_codeobject_1.cu:331 : an illegal memory access was encountered
terminate called after throwing an instance of 'thrust::system::system_error'
  what():  CUDA free failed: cudaErrorCudartUnloading: driver shutting down
EWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 1.366455 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006128s
INFO generating 1000 rand every 1 clock cycles for neurongroup_stateupdater_codeobject
INFO kernel_neurongroup_stateupdater_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        648 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO generating 2000 rand every 2 clock cycles for neurongroup_stateupdater_codeobject_1
INFO kernel_neurongroup_stateupdater_codeobject_1
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        648 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO: main_lines took 0.081112 seconds
INFO: main function took 1.465998 seconds
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 1.525204 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.00613s
INFO kernel_neurongroup_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        6 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        792 bytes user-allocated constant memory
INFO generating 20 randn every 2 clock cycles for neurongroup_stateupdater_codeobject
INFO kernel_neurongroup_stateupdater_codeobject
        1 blocks
        640 threads
        44 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        792 bytes user-allocated constant memory
        0.625 theoretical occupancy
INFO kernel_neurongroup_group_variable_set_conditional_codeobject_1
        1 blocks
        1024 threads
        6 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        792 bytes user-allocated constant memory
INFO generating 20 randn every 2 clock cycles for neurongroup_stateupdater_codeobject_1
INFO kernel_neurongroup_stateupdater_codeobject_1
        1 blocks
        640 threads
        44 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        792 bytes user-allocated constant memory
        0.625 theoretical occupancy
INFO: main_lines took 0.072696 seconds
INFO: main function took 1.604485 seconds
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 1.554892 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006204s
INFO kernel_neurongroup_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        6 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        792 bytes user-allocated constant memory
INFO generating 20 randn every 2 clock cycles for neurongroup_stateupdater_codeobject
INFO kernel_neurongroup_stateupdater_codeobject
        1 blocks
        640 threads
        44 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        792 bytes user-allocated constant memory
        0.625 theoretical occupancy
INFO kernel_neurongroup_group_variable_set_conditional_codeobject_1
        1 blocks
        1024 threads
        6 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        792 bytes user-allocated constant memory
INFO generating 20 randn every 2 clock cycles for neurongroup_stateupdater_codeobject_1
INFO kernel_neurongroup_stateupdater_codeobject_1
        1 blocks
        640 threads
        44 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        792 bytes user-allocated constant memory
        0.625 theoretical occupancy
INFO: main_lines took 0.035620 seconds
INFO: main function took 1.597139 seconds
.WARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
INFO: setting cudaDevice stuff took 2.289332 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006886s
INFO kernel_neurongroup_run_regularly_codeobject
        1 blocks
        768 threads
        40 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        0.750 theoretical occupancy
INFO kernel_neurongroup_thresholder_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_run_regularly_codeobject_1
        1 blocks
        768 threads
        40 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        0.750 theoretical occupancy
INFO kernel_neurongroup_thresholder_codeobject_1
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_run_regularly_codeobject_2
        1 blocks
        768 threads
        40 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        0.750 theoretical occupancy
INFO kernel_neurongroup_thresholder_codeobject_2
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_neurongroup_run_regularly_codeobject_3
        1 blocks
        768 threads
        40 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        0.750 theoretical occupancy
INFO kernel_neurongroup_thresholder_codeobject_3
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1224 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO: main_lines took 0.001310 seconds
INFO: main function took 2.297856 seconds
F
======================================================================
ERROR: brian2cuda.tests.test_network_multiple_runs.test_changing_delay_scalar
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_network_multiple_runs.py", line 29, in test_changing_delay_scalar
    device.build(direct_call=False, **device.build_options)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 979, in build
    self.run(directory, with_output, run_args)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 1000, in run
    "%s)" % os.path.abspath(directory))
RuntimeError: Project run failed (project directory: /tmp/tmpSgTfUw)
-------------------- >> begin captured stdout << ---------------------
('debug syn effect mode ', 'target')
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject_1', ' template:', 'synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject', ' template:', 'synapses')

--------------------- >> end captured stdout << ----------------------

======================================================================
ERROR: brian2cuda.tests.test_network_multiple_runs.test_changing_delay_heterogeneous
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_network_multiple_runs.py", line 52, in test_changing_delay_heterogeneous
    device.build(direct_call=False, **device.build_options)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/device.py", line 979, in build
    self.run(directory, with_output, run_args)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/devices/cpp_standalone/device.py", line 1000, in run
    "%s)" % os.path.abspath(directory))
RuntimeError: Project run failed (project directory: /tmp/tmpkAtWvo)
-------------------- >> begin captured stdout << ---------------------
('debug syn effect mode ', 'target')
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'synapses_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: synapses_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject', ' template:', 'synapses')
('DEBUG OWNER SYNAPSES name:', 'synapses_pre_codeobject_2', ' template:', 'synapses')

--------------------- >> end captured stdout << ----------------------

======================================================================
FAIL: brian2.tests.test_spikegenerator.test_spikegenerator_change_spikes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 153, in test_spikegenerator_change_spikes
    _compare_spikes(5, indices1, times1, s_mon, 0*ms, 5*ms)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 129, in _compare_spikes
    assert_allclose(generator_spikes, recorded_spikes)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 30, in assert_allclose
    numpy_allclose(np.asarray(actual), np.asarray(desired), rtol=rtol, atol=atol, **kwds)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1493, in assert_allclose
    verbose=verbose, header=header, equal_nan=equal_nan)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 752, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Not equal to tolerance rtol=9.99201e-08, atol=0

(shapes (3, 2), (0,) mismatch)
 x: array([[1.   , 0.002],
       [1.   , 0.003],
       [1.   , 0.004]])
 y: array([], dtype=float64)

======================================================================
FAIL: Basic test for `SpikeGeneratorGroup`.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 179, in test_spikegenerator_change_period
    s_mon, 0*ms, 10*ms)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/test_spikegenerator.py", line 129, in _compare_spikes
    assert_allclose(generator_spikes, recorded_spikes)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 30, in assert_allclose
    numpy_allclose(np.asarray(actual), np.asarray(desired), rtol=rtol, atol=atol, **kwds)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1493, in assert_allclose
    verbose=verbose, header=header, equal_nan=equal_nan)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 752, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Not equal to tolerance rtol=9.99201e-08, atol=0

(shapes (6, 2), (3, 2) mismatch)
 x: array([[1.   , 0.002],
       [1.   , 0.003],
       [1.   , 0.004],...
 y: array([[1.   , 0.002],
       [1.   , 0.003],
       [1.   , 0.004]])

======================================================================
FAIL: Test setting same seed for binomial functions (using CuRAND device API).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_random_number_generation.py", line 173, in test_binomial_values
    run_values_1, run_values_2)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1285, in assert_raises
    return _d.assertRaises(*args,**kwargs)
AssertionError: AssertionError not raised

----------------------------------------------------------------------
Ran 17 tests in 202.728s

FAILED (NOT_IMPLEMENTED=1, errors=2, failures=3)
Running standalone-specific tests
..WARNING    Detected code statement with default function and 32bit or 64bit integer type in the same line and the preference for default_functions_integral_convertion is 'float32'. Using 32bit or 64bit integer types as default function arguments is not type safe due to convertion of integer to single-precision floating-point types in device code. (relevant functions: sin, cos, tan, sinh, cosh, tanh, exp, log, log10, sqrt, ceil, floor, arcsin, arccos, arctan)
Detected code statement:
        v = _brian_floor(myarr);
Generated from abstract code statements:
        [v = floor(myarr)]
 [brian2.codegen.generators.cuda_generator]
INFO: setting cudaDevice stuff took 1.001159 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006101s
INFO kernel_neurongroup_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        504 bytes user-allocated constant memory
INFO kernel_neurongroup_1_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        504 bytes user-allocated constant memory
INFO: main_lines took 0.000160 seconds
INFO: main function took 1.007677 seconds
.INFO: setting cudaDevice stuff took 1.387453 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006299s
INFO kernel_neurongroup_group_variable_set_conditional_codeobject
        1 blocks
        576 threads
        51 registers per block
        0 bytes statically-allocated shared memory per block
        48 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_1_group_variable_set_conditional_codeobject
        1 blocks
        576 threads
        51 registers per block
        0 bytes statically-allocated shared memory per block
        48 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_2_group_variable_set_conditional_codeobject
        1 blocks
        576 threads
        51 registers per block
        0 bytes statically-allocated shared memory per block
        48 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_3_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        16 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_4_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_5_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        10 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_6_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        18 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO kernel_neurongroup_7_group_variable_set_conditional_codeobject
        1 blocks
        1024 threads
        18 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        1624 bytes user-allocated constant memory
INFO: main_lines took 0.000450 seconds
INFO: main function took 1.394790 seconds
.INFO: setting cudaDevice stuff took 1.478274 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006494s
INFO: syn creation took 2.93939s
INFO connectivity matrix has size 1000000, number of (pre neuron ID, post neuron block) pairs is 3000
INFO: synapse statistics and memory usage for syn_pre:
        number of synapses: 1000000
        number of bundles: 0
        number of pre/post blocks: 3000
        number of synapses over all pre/post blocks:
                mean: 333.3     std: 0.5
        number of unique delays over all pre/post blocks:
                mean: 0.0       std: nan
        bundle size over all bundles:
                mean: 0.0       std: nan

        memory usage: TOTAL: 3.8 MB (~4.0 byte per synapse)
                99.1%   3.815 MB        synapse IDs [1000000]
                0.6%    0.023 MB        pointers to synapse IDs [3000]
                0.3%    0.011 MB        number of synapses per pre/post block [3000]
INFO _run_syn_pre_initialise_queue_kernel
        1 blocks
        1 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        720 bytes user-allocated constant memory
INFO: syn_pre initialisation took 1.203s
INFO kernel_src_thresholder_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        720 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_syn_pre_codeobject
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        720 bytes user-allocated constant memory
        1.000 theoretical occupancy
Number of synapses: 1000000
INFO: main_lines took 4.295589 seconds
INFO: main function took 5.801671 seconds
INFO: setting cudaDevice stuff took 1.532794 seconds
objects cu num par blocks 3
INFO: _init_arrays() took 0.006562s
INFO: syn creation took 2.9469s
INFO connectivity matrix has size 1000000, number of (pre neuron ID, post neuron block) pairs is 3000
INFO: synapse statistics and memory usage for syn_pre:
        number of synapses: 1000000
        number of bundles: 0
        number of pre/post blocks: 3000
        number of synapses over all pre/post blocks:
                mean: 333.3     std: 0.5
        number of unique delays over all pre/post blocks:
                mean: 0.0       std: nan
        bundle size over all bundles:
                mean: 0.0       std: nan

        memory usage: TOTAL: 3.8 MB (~4.0 byte per synapse)
                99.1%   3.815 MB        synapse IDs [1000000]
                0.6%    0.023 MB        pointers to synapse IDs [3000]
                0.3%    0.011 MB        number of synapses per pre/post block [3000]
INFO _run_syn_pre_initialise_queue_kernel
        1 blocks
        1 threads
        56 registers per block
        0 bytes statically-allocated shared memory per block
        16 bytes local memory per thread
        720 bytes user-allocated constant memory
INFO: syn_pre initialisation took 1.199s
INFO kernel_src_thresholder_1_codeobject
        1 blocks
        1024 threads
        14 registers per block
        0 bytes statically-allocated shared memory per block
        0 bytes local memory per thread
        720 bytes user-allocated constant memory
        1.000 theoretical occupancy
INFO kernel_syn_pre_codeobject_1
        3 blocks
        1024 threads
        24 registers per block
        0 bytes statically-allocated shared memory per block
        8 bytes local memory per thread
        720 bytes user-allocated constant memory
        1.000 theoretical occupancy
Number of synapses: 1000000
INFO: main_lines took 4.276686 seconds
INFO: main function took 5.837467 seconds
FWARNING    Multiple run statements are currently error prone. See #83, #85, #86. [brian2.devices.cuda_standalone]
.
======================================================================
FAIL: brian2cuda.tests.test_cuda_generator.test_atomics_parallelisation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/nose/case.py", line 197, in runTest
    self.test(*self.arg)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/brian2cuda/tests/test_cuda_generator.py", line 550, in test_atomics_parallelisation
    rtol=1e-5)
  File "/home/denis/projects/brian2cuda/brian2cuda_repository/frozen_repos/brian2/brian2/tests/utils.py", line 30, in assert_allclose
    numpy_allclose(np.asarray(actual), np.asarray(desired), rtol=rtol, atol=atol, **kwds)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 1493, in assert_allclose
    verbose=verbose, header=header, equal_nan=equal_nan)
  File "/home/denis/.conda/envs/b2c/lib/python2.7/site-packages/numpy/testing/_private/utils.py", line 819, in assert_array_compare
    raise AssertionError(msg)
AssertionError:
Not equal to tolerance rtol=2.22045e-21, atol=0
0: v_post += w_syn
Mismatch: 84.9%
Max absolute difference: 5.00222086e-12
Max relative difference: 2.05118517e-15
 x: array([2489.035873, 2461.018328, 2440.155078, 2476.529115, 2455.54045 ,
       2564.843575, 2477.889653, 2408.267557, 2513.034602, 2570.841807,
       2561.08389 , 2481.909507, 2474.464789, 2629.567681, 2565.47629 ,...
 y: array([2489.035873, 2461.018328, 2440.155078, 2476.529115, 2455.54045 ,
       2564.843575, 2477.889653, 2408.267557, 2513.034602, 2570.841807,
       2561.08389 , 2481.909507, 2474.464789, 2629.567681, 2565.47629 ,...
-------------------- >> begin captured stdout << ---------------------
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'syn_pre_codeobject', ' template:', 'synapses')
('DEBUG OWNER SYNAPSES name:', 'syn_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: syn_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='syn')
('debug syn effect mode ', 'target')
('DEBUG OWNER SYNAPSES name:', 'syn_pre_codeobject_1', ' template:', 'synapses')
('DEBUG OWNER SYNAPSES name:', 'syn_synapses_create_generator_codeobject', ' template:', 'synapses_create_generator')
DEBUG: name: syn_synapses_create_generator_codeobject, owner: Synapses(clock=Clock(dt=100. * usecond, name='defaultclock'), when=start, order=0, name='syn')

--------------------- >> end captured stdout << ----------------------

----------------------------------------------------------------------
Ran 6 tests in 137.322s

FAILED (failures=1)
ERROR: 3/3 test suite(s) did not complete successfully (see above).
2020-01-22 13:45:43
TARGET: CUDA_STANDALONE
2020-01-22 13:45:43
FINISHED ALL RUNS

                     1/1 CONFIGURATIONS FAILED:
                        1. run
                                default preferences

